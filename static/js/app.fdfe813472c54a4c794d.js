webpackJsonp([1],{"+8dS":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("j1ja");var s=n("7+uW"),o=n("/ocq"),i=n("Gu7T"),a=n.n(i),r=n("d7EF"),c=n.n(r),d=n("woOf"),u=n.n(d),h=n("Dd8w"),f=n.n(h),p=n("NYxO"),l=n("pFYg"),k=n.n(l),m={types:{isArray:function(e){return Array.isArray(e)||Object.prototype.isPrototypeOf.call(NodeList.prototype,e)},isBoolean:function(e){return!0===e||!1===e},isElement:function(e){return e instanceof Element},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:function(e){return"object"===(void 0===e?"undefined":k()(e))&&null!==e},isString:function(e){return"string"==typeof e}},randomizer:function(e,t){return e+Math.round(Math.random()*(t-e))},getRandomSingleCoord:function(e,t){return this.randomizer(e,t)},getRandomDoubleCoord:function(e,t,n,s){return{x:this.getRandomSingleCoord(e,t),y:this.getRandomSingleCoord(n,s)}}},g={props:{options:{type:Object,required:!0,default:{}}}},v={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"env-obj",style:{width:this.options.width,height:this.options.height,top:this.options.top,left:this.options.left,transition:"left "+this.speed+"ms linear, top "+this.speed+" linear"}})},staticRenderFns:[]};var b=n("VU/8")(g,v,!1,function(e){n("i6iW")},"data-v-2e307669",null).exports,S={props:{options:{type:Object,required:!0,default:{}}}},O={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"food",style:{width:this.options.width,height:this.options.height,top:this.options.top,left:this.options.left,transition:"left "+this.speed+"ms linear, top "+this.speed+" linear"}})},staticRenderFns:[]};var y=n("VU/8")(S,O,!1,function(e){n("+8dS")},"data-v-6f6651f2",null).exports,j={props:{options:{type:Object,required:!0,default:{}},speed:{type:Number,required:!0},isHead:{type:Boolean}},methods:{getTransition:function(){return"left "+this.speed+"ms linear, top "+this.speed+"ms linear"}}},x={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:["snake",{head:this.isHead}],style:{width:this.options.width,height:this.options.height,top:this.options.top,left:this.options.left,transition:this.getTransition()}})},staticRenderFns:[]};var E={name:"GamePage",components:{EnvObj:b,FoodObj:y,SnakeBodyObj:n("VU/8")(j,x,!1,function(e){n("ePlk")},"data-v-11596fe9",null).exports},computed:f()({},Object(p.b)(["allDirections","baseZone","blockSize","currentDirection","envObjects","foodObjects","currentSpeed","defaultSpeed","isSnakeMoving","sceneGrid","sceneParams","snakeBlocks","snakeHead","snakeCurrentLength","snakeDefaultLength","snakeParams","canMove"])),methods:{getBlockOffset:function(e){var t=this.sceneGrid,n=t.width;return{top:"calc("+100/t.height*(e.y-1)+"%)",left:"calc("+100/n*(e.x-1)+"%)"}},getBlockParams:function(e){var t=this.blockSize,n=t.width,s=t.height,o=this.getBlockOffset(e);return{width:n,height:s,top:o.top,left:o.left}},checkIfCoordsExist:function(e,t){return t.some(function(t){return t.x===e.x&&t.y===e.y})},checkIfSnakeHeadExist:function(){return this.snakeBlocks.length>0},createBlockCoords:function(e){var t=e.isBaseZoneException,n=e.isSnakeException,s=e.isEnviromentException,o=e.isFoodException,i=e.repository,a=this.sceneGrid,r=a.width,c=a.height,d=m.getRandomDoubleCoord(1,r,1,c),u=t&&this.checkIfCoordsExist(d,this.baseZone),h=n&&this.checkIfCoordsExist(d,this.snakeBlocks),f=s&&this.checkIfCoordsExist(d,this.envObjects),p=o&&this.checkIfCoordsExist(d,this.foodObjects);u||h||f||p?this.createBlockCoords(e):i.push(d)},fillBaseZone:function(){this.$store.dispatch("changeBaseZoneObjects",[]);for(var e=[],t=this.sceneParams.baseZoneLeftStart;t<=this.sceneParams.baseZoneLeftOffset;t++)for(var n=this.sceneParams.baseZoneTopStart;n<=this.sceneParams.baseZoneTopOffset;n++)e.push({x:t,y:n});this.$store.dispatch("changeBaseZoneObjects",e)},refreshEnviroment:function(){this.$store.dispatch("changeEnvObjects",[]);for(var e=this.sceneParams.envObjectsQuantity,t=[],n={isBaseZoneException:!0,isSnakeException:!1,isEnviromentException:!0,isFoodException:!1,repository:t},s=1;s<=e;s++)this.createBlockCoords(n);this.$store.dispatch("changeEnvObjects",t)},refreshFood:function(){var e=this,t=[],n={isBaseZoneException:!1,isSnakeException:!0,isEnviromentException:!0,isFoodException:!1,repository:t};this.createBlockCoords(n),setTimeout(function(){e.$store.dispatch("changeFoodObjects",t)},0)},refreshSnake:function(){this.$store.dispatch("changeSnakeObjects",[]);for(var e=[],t=Math.floor(this.sceneParams.baseZoneTopStart+this.sceneParams.baseZoneTopOffset/2),n=this.sceneParams.baseZoneLeftStart,s=n+this.snakeParams.defaultLength-1;s>=n;s--)e.push({x:s,y:t});this.$store.dispatch("changeSnakeObjects",e)},clearGameParams:function(){this.$store.dispatch("changeSpeedToDefault")},isNextSnakeStep:function(e){var t=this.sceneParams,n=t.width,s=t.height,o=this.checkIfCoordsExist(e,this.snakeBlocks),i=this.checkIfCoordsExist(e,this.envObjects),a=!(e.x<=n&&e.x>0&&e.y<=s&&e.y>0);return!o&&!i&&!a},getHeadNextStepCoords:function(e,t){var n=u()({},e),s=n.x,o=n.y;return"up"===t&&(o-=1),"down"===t&&(o+=1),"left"===t&&(s-=1),"right"===t&&(s+=1),{x:s,y:o}},changeDirection:function(e){var t=this.currentDirection;e===t||"left"===e&&"right"===t||"right"===e&&"left"===t||"up"===e&&"down"===t||"down"===e&&"up"===t||this.$store.dispatch("changeSnakeDirection",e)},getDirectionByButton:function(e){if(this.canMove){var t=e.keyCode;t>=37&&t<=40&&this.changeDirection({37:"left",38:"up",39:"right",40:"down"}[t]),!this.isSnakeMoving&&this.canMove&&(this.$store.dispatch("changeSnakeMovementStatus",!0),this.drawSnakeNextStep())}},drawSnakeNextStep:function(){var e=this;if(e.isSnakeMoving&&e.canMove&&e.checkIfSnakeHeadExist()){var t=c()(this.snakeBlocks,1)[0],n=this.getHeadNextStepCoords(t,e.currentDirection);if(!e.isNextSnakeStep(n))return e.$store.dispatch("changeSnakeMovementStatus",!1),void e.$store.dispatch("changeMovingAbility",!1);var s=this.checkIfCoordsExist(n,e.foodObjects),o=[].concat(a()(e.snakeBlocks)),i=o.reduce(function(e,t,s){if(0===s&&e.push({x:n.x,y:n.y}),o[s-1]){var i=o[s-1];e.push({x:i.x,y:i.y})}return e},[]),r=s?o[o.length-1]:null;this.$store.dispatch("updateSnakeObjects",i),r&&(this.$store.dispatch("addSnakeBlock",{x:r.x,y:r.y}),e.refreshFood()),setTimeout(function(){e.drawSnakeNextStep()},e.currentSpeed)}},drawGame:function(){this.fillBaseZone(),this.refreshEnviroment(),this.refreshSnake(),this.refreshFood()},resetGame:function(){this.$store.dispatch("changeSnakeMovementStatus",!1),this.$store.dispatch("changeMovingAbility",!0),this.$store.dispatch("changeSpeedToDefault")},addControls:function(){document.addEventListener("keydown",this.getDirectionByButton)},restart:function(){this.resetGame(),this.drawGame()}},mounted:function(){this.drawGame(),this.addControls()}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app_container"},[n("div",{staticClass:"tool_panel"},[n("div",{staticClass:"restart-button",on:{click:e.restart}},[n("span",[e._v("Restart Game")])])]),e._v(" "),n("div",{staticClass:"app"},[n("div",{staticClass:"app_scene"},[e._l(e.envObjects,function(t){return n("EnvObj",{key:t,attrs:{options:e.getBlockParams(t)}})}),e._v(" "),e._l(e.foodObjects,function(t){return n("FoodObj",{key:t,attrs:{options:e.getBlockParams(t)}})}),e._v(" "),e._l(e.snakeBlocks,function(t,s){return n("SnakeBodyObj",{key:t,attrs:{options:e.getBlockParams(t),speed:e.currentSpeed,"is-head":0===s}})})],2)])])},staticRenderFns:[]};var w=n("VU/8")(E,B,!1,function(e){n("db7I")},"data-v-e6993494",null).exports;s.a.use(o.a);var C=new o.a({routes:[{path:"/",name:"GamePage",component:w}]}),P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"snake-app"}},[t("router-view")],1)},staticRenderFns:[]};var M=n("VU/8")({name:"Snake"},P,!1,function(e){n("YsIg")},null,null).exports,D={changeBaseZoneObjects:function(e,t){(0,e.commit)("setBaseZoneObjects",t)},changeEnvObjects:function(e,t){(0,e.commit)("setEnvObjects",t)},changeFoodObjects:function(e,t){(0,e.commit)("setFoodObjects",t)},changeSnakeObjects:function(e,t){(0,e.commit)("setSnakeObjects",t)},updateSnakeObjects:function(e,t){(0,e.commit)("updateSnakeObjects",t)},changeSpeedToDefault:function(e){(0,e.commit)("setDefaultSpeed")},changeSnakeMovementStatus:function(e,t){(0,e.commit)("setSnakeMoving",t)},addSnakeBlock:function(e,t){(0,e.commit)("addSnakeBlock",t)},changeSnakeDirection:function(e,t){(0,e.commit)("setSnakeDirection",t)},changeMovingAbility:function(e,t){(0,e.commit)("setMovingAbility",t)}},Z={allDirections:function(e){return e.snake.params.directions},baseZone:function(e){return e.snake.baseZone},blockSize:function(e){var t=e.scene.params;return{width:"calc("+100/t.width+"%)",height:"calc("+100/t.height+"%)"}},currentDirection:function(e){return e.snake.params.currentDirection},envObjects:function(e){return e.scene.enviromentObjects},foodObjects:function(e){return e.scene.foodObjects},currentSpeed:function(e){return e.gameParams.currentSpeed},defaultSpeed:function(e){return e.gameParams.defaultSpeed},sceneGrid:function(e){var t=e.scene.params;return{width:t.width,height:t.height}},sceneParams:function(e){return e.scene.params},snakeBlocks:function(e){return e.snake.bodyCoords},snakeHead:function(e){return e.snake.headCoords},snakeCurrentLength:function(e){return e.snake.params.currentLength},snakeDefaultLength:function(e){return e.snake.params.defaultLength},snakeParams:function(e){return e.snake.params},isSnakeMoving:function(e){return e.snake.isMoving},gameParams:function(e){return e.gameParams},canMove:function(e){return e.snake.canMove}},$={setBaseZoneObjects:function(e,t){e.snake.baseZone=t},setEnvObjects:function(e,t){e.scene.enviromentObjects=t},setFoodObjects:function(e,t){e.scene.foodObjects=t},setSnakeObjects:function(e,t){e.snake.bodyCoords=t},updateSnakeObjects:function(e,t){e.snake.bodyCoords.forEach(function(e,n){e.x=t[n].x,e.y=t[n].y})},setDefaultSpeed:function(e){e.gameParams.currentSpeed=e.gameParams.defaultSpeed},setSnakeMoving:function(e,t){e.snake.isMoving=t},addSnakeBlock:function(e,t){var n=e.snake.bodyCoords;n.push(t),e.snake.bodyCoords=n},setSnakeDirection:function(e,t){e.snake.params.currentDirection=t},setMovingAbility:function(e,t){e.snake.canMove=t}};var _,F={directions:["right","down","left","up"],isIe:(_=window.navigator.userAgent,-1!==_.indexOf("MSIE ")||-1!==_.indexOf("Trident/")),isMobile:/Android|webOS|iPad|iPhone|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)};s.a.use(p.a);var I=new p.a.Store({state:{scene:{params:{width:20,height:20,envObjectsQuantity:13,baseZoneLeftStart:1,baseZoneTopStart:1,baseZoneLeftOffset:10,baseZoneTopOffset:5},enviromentObjects:[],foodObjects:[]},snake:{params:{currentDirection:"null",currentLength:5,defaultLength:5,directions:F.directions},isMoving:!1,canMove:!0,baseZone:[],bodyCoords:[],headCoords:{}},gameParams:{currentSpeed:200,defaultSpeed:200},client:{isIe:F.isIe,isMobile:F.isMobile}},actions:D,getters:Z,mutations:$});s.a.config.productionTip=!1,new s.a({components:{Snake:M},el:"#snake",router:C,store:I,template:"<Snake />"})},YsIg:function(e,t){},db7I:function(e,t){},ePlk:function(e,t){},i6iW:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.fdfe813472c54a4c794d.js.map